!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var n=(o=s,a=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),r=s.sources.map((function(t){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(t," */")}));return[i].concat(r).concat([n]).join("\n")}var o,a,l;return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,s){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(s)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(n[o]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);s&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}},function(t,e,i){(e=i(0)(!1)).push([t.i,".__mld__{font:16px sans-serif;margin:8px;padding:8px;color:#abb2bf;background:#282c34;box-shadow:0 2px 10px rgba(0,0,0,.6)}.__mld__ .disp{position:relative;font-size:14px;height:0;overflow:hidden;transition:height .5s;mask-image:linear-gradient(transparent,#000 45px,#000 105px,transparent);-webkit-mask-image:linear-gradient(transparent,#000 45px,#000 105px,transparent)}.__mld__ .disp .lrc{transform:translateY(0);transition:transform .5s cubic-bezier(.25,.46,.45,.94)}.__mld__ .disp .lrc .line{opacity:.6;margin:16px 0;white-space:pre-wrap;text-align:center;transition:color .2s,opacity .2s}.__mld__ .disp .lrc .line.active{color:#fff;opacity:1;text-shadow:0 0 .3px currentColor}.__mld__ .disp .lrc.mask{position:relative;top:calc(50% - 3em)}.__mld__ .disp.active{height:150px}.__mld__ .ctl{display:flex;align-items:center}.__mld__ .ctl button{color:#abb2bf;font:400 20px/1 MelodyPlayerIcons;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;font-feature-settings:'liga' 1;display:inline-block;box-sizing:content-box;width:32px;height:32px;border-radius:16px;border:none;margin:0;padding:0;user-select:none;outline:0;cursor:pointer;background:0 0;transition:.5s;-webkit-tap-highlight-color:transparent}.__mld__ .ctl button:hover{transition:background-color .2s,transform .5s;background:rgba(255,255,255,.15)}.__mld__ .ctl button:active{background:rgba(255,255,255,.4)}.__mld__ .ctl button.flip{transform:rotate(180deg)}.__mld__ .ctl button::-moz-focus-inner{border:0}.__mld__ .ctl .porgress{cursor:pointer;position:relative;margin-left:8px;flex-grow:1;height:12px;color:#61aeee;background:rgba(0,0,0,.6)}.__mld__ .ctl .porgress div{width:0;height:100%;position:absolute;transition:width 1s linear}.__mld__ .ctl .porgress div.seek{transition:width .2s}.__mld__ .ctl .porgress .load{background:rgba(255,255,255,.3)}.__mld__ .ctl .porgress .play{background:currentColor}.__mld__ .ctl .porgress .play::after{content:' ';cursor:pointer;color:#fff;position:absolute;box-sizing:content-box;width:2px;height:100%;right:0;top:0;border:0 solid currentColor;box-shadow:0 0 0 transparent;background:currentColor;transition:.2s}.__mld__ .ctl .porgress:hover .play::after{border-width:6px 3px;box-shadow:0 0 4px rgba(0,0,0,.6);top:-6px;right:-3px}.__mld__ .ctl .timer{font-size:14px;margin-left:8px;user-select:none}.__mld__ .ctl .ctl-right{margin-left:8px}.__mld__[single] .ctl-left button:first-child,.__mld__[single] .ctl-left button:last-child{display:none}",""]),t.exports=e},function(t,e,i){var s=i(0),n=i(3),r=i(4);e=s(!1);var o=n(r);e.push([t.i,"@font-face{font-family:MelodyPlayerIcons;src:url("+o+") format('woff2')}",""]),t.exports=e},function(t,e,i){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e,i){"use strict";i.r(e),e.default="data:font/woff2;base64,d09GMgABAAAAAAPQAA8AAAAACigAAAN5AAEEWgAAAAAAAAAAAAAAAAAAAAAAAAAAGhwbEByCVAZgAIIACAQRCAqHCIQFATYCJANOC04ABCAFgnwHIBtUBwieg3GzHE1cIluZKjJ3mmh/34mH5+/Vc1/nxD1AG+u2hRsD1LGpNM1TkZ9qJmD4W2VLe3b3gB6EyPcCPJkQk0hKnQFHLsdmEWROnX2Gkqb3P4Do4IFjygNbg2URDmxiWRZtVYEQUUDj8Wg2sIHtftAD0M0bxf+ah3ess04m6R8gQD+AhCGRSJRkDIFeJheAAL1iZKGic/IwVALIFSCK+/Y4UEGAIAgQVBQegkuJKXcRIYmXLALnwQSSEIHxCmLxEEyMLEo0nYWJQJhAgTzCRJEwIYLIOiBWK/NyzGDEww2I4adficRUY8xhlyULE4KT6ALJhGAegfsuJ4F0Kk2wBBaTzot4V4GhdPYxxniawtp/W7hgcRSaEAqFRZa4i6VqBbPqliAigT5JEIe0G7ATX6Ml3E1IpDYAEMMAADybbv5mgAQQAGBGJmgHbWAB9IJ3HIEFnN9LmAHjPDhh2vlK0XLpcv1y83LrWtjGb78456TwuuXGz3S/2O3YzdjF2IXYv9FmxAEI0PUD7jl7wPm3PcAluAUJKkUNzwRUSjFMQqWOsh4wBZVG+mbADFRa8cxDPQzPAjR//9Jb5I0mQORKgCXAIdgCHyADQDeA6JgMYbiUsUYJvITgmqa4UCEKLoBB2aCfYY/BdJ0bbNwe2kEGTL4zED0ssodoh046VfbZExa7Fvp2MsVAzU3GnqE0X2ad1R4eZj6yatxi5jBZ8B1nDNtpO0Lf69yAcZoJ8Fj7tTPsebdmYO73Nxr7f30ZV1F3DB1130fvgKBSnB0XUrA9p0VUVhsaXp8+/TooQzZNZRgL/ymXGxYOH17A0FMmMjO8esJXvyv9xjGuPAE8zXg9fXOchStgXsDLUvDs6vqHzPIX+zuwAAAEiPaxZ/31q9PuqpZqMADlR9J+gH/l6CJA/EUGujFAQAIkoBAfEACASMAIsD6bV2cw29VH2AgsCccBCQQCBTkAuozhqF0DXABDkCgzCMblIoIbcr9SqAhJhMVnkWX4r9ERR51z3D577HVSnAJ58pWK0+qII/Y4aJcscdodtkOOOPUOOijOwLr4BL1slxN2Oe60XXbK0c1xMrHv4zhY5b/DEYedWJq0xykHOY5rScUno/24PXYdJMxxYJyKwgs5YnKBQtnyZV+iLeN7tCfs0x1x8uXcmLuU33vIPk+LA2b5UAAAAA=="},function(t,e,i){"use strict";i.r(e);var s,n=/^(\[.+\])+/,r=/^\s*(\w+)\s*:(.*)$/,o=/^\s*(\d+)\s*:\s*(\d+(\s*[\.:]\s*\d+)?)\s*$/;function a(t){var e,i,a=function(t){t=t.trim();var e=n.exec(t);if(null===e)return null;var i=e[0],s=t.substr(i.length);return[i.slice(1,-1).split(/\]\s*\[/),s]}(t);try{if(a){var l=a[0],c=a[1];return o.test(l[0])?function(t,e){var i=[];return t.forEach((function(t){var e=o.exec(t),s=parseFloat(e[1]),n=parseFloat(e[2].replace(/\s+/g,"").replace(":","."));i.push(60*s+n)})),{type:s.TIME,timestamps:i,content:e.trim()}}(l,c):(e=l[0],i=r.exec(e),{type:s.INFO,key:i[1].trim(),value:i[2].trim()})}return{type:s.INVALID}}catch(t){return{type:s.INVALID}}}function l(t,e){for(void 0===e&&(e=2);t.toString().split(".")[0].length<e;)t="0"+t;return t}function c(t){return l(Math.floor(t/60))+":"+l((t%60).toFixed(2))}!function(t){t.INVALID="INVALID",t.INFO="INFO",t.TIME="TIME"}(s||(s={}));var h=function(){function t(){this.info={},this.lyrics=[]}return t.parse=function(t){var e=[],i={};t.split(/\r\n|[\n\r]/g).map((function(t){return a(t)})).forEach((function(t){switch(t.type){case s.INFO:i[t.key]=t.value;break;case s.TIME:t.timestamps.forEach((function(i){e.push({timestamp:i,content:t.content})}))}}));var n=new this;return n.lyrics=e,n.info=i,n},t.prototype.offset=function(t){this.lyrics.forEach((function(e){e.timestamp+=t,e.timestamp<0&&(e.timestamp=0)}))},t.prototype.clone=function(){function e(t){var e={};for(var i in t)e[i]=t[i];return e}var i=new t;return i.info=e(this.info),i.lyrics=this.lyrics.reduce((function(t,i){return t.push(e(i)),t}),[]),i},t.prototype.toString=function(t){void 0===t&&(t={}),t.combine=!("combine"in t)||t.combine,t.lineFormat="lineFormat"in t?t.lineFormat:"\r\n",t.sort=!("sort"in t)||t.sort;var e=[],i={},s=[];for(var n in this.info)e.push("["+n+":"+this.info[n]+"]");if(t.combine){for(var r in this.lyrics.forEach((function(t){t.content in i?i[t.content].push(t.timestamp):i[t.content]=[t.timestamp]})),i)t.sort&&i[r].sort(),s.push({timestamps:i[r],content:r});t.sort&&s.sort((function(t,e){return t.timestamps[0]-e.timestamps[0]})),s.forEach((function(t){e.push("["+t.timestamps.map((function(t){return c(t)})).join("][")+"]"+(t.content||""))}))}else this.lyrics.forEach((function(t){e.push("["+c(t.timestamp)+"]"+(t.content||""))}));return e.join(t.lineFormat)},t}();!function(){function t(t,e){void 0===t&&(t=new h),void 0===e&&(e=!0),this.offset=e,this._currentIndex=-1,this.setLrc(t)}t.prototype.setLrc=function(t){this.lrc=t.clone(),this.lrcUpdate()},t.prototype.lrcUpdate=function(){this.offset&&this._offsetAlign(),this._sort()},t.prototype._offsetAlign=function(){if("offset"in this.lrc.info){var t=parseInt(this.lrc.info.offset)/1e3;isNaN(t)||(this.lrc.offset(t),delete this.lrc.info.offset)}},t.prototype._sort=function(){this.lrc.lyrics.sort((function(t,e){return t.timestamp-e.timestamp}))},t.prototype.timeUpdate=function(t){this._currentIndex>=this.lrc.lyrics.length?this._currentIndex=this.lrc.lyrics.length-1:this._currentIndex<-1&&(this._currentIndex=-1),this._currentIndex=this._findIndex(t,this._currentIndex)},t.prototype._findIndex=function(t,e){var i=-1==e?Number.NEGATIVE_INFINITY:this.lrc.lyrics[e].timestamp,s=e==this.lrc.lyrics.length-1?Number.POSITIVE_INFINITY:this.lrc.lyrics[e+1].timestamp;return t<i?this._findIndex(t,e-1):t===s?s===Number.POSITIVE_INFINITY?e:e+1:t>s?this._findIndex(t,e+1):e},t.prototype.getInfo=function(){return this.lrc.info},t.prototype.getLyrics=function(){return this.lrc.lyrics},t.prototype.getLyric=function(t){if(void 0===t&&(t=this.curIndex()),t>=0&&t<=this.lrc.lyrics.length-1)return this.lrc.lyrics[t];throw new Error("Index not exist")},t.prototype.curIndex=function(){return this._currentIndex},t.prototype.curLyric=function(){return this.getLyric()}}();function d(t,e,...i){const s=document.createElement(t);return e&&Object.entries(e).forEach(([t,e])=>{if("ref"!==t)switch(typeof e){case"string":s.setAttribute(t,e);break;case"function":const i=t.replace(/^on/,"").toLowerCase();s.addEventListener(i,e)}else e(s)}),i.forEach(t=>{"string"==typeof t?s.appendChild(document.createTextNode(t)):s.appendChild(t)}),s}var u,p=i(1),m=i.n(p),f=i(2),y=i.n(f);class g extends HTMLElement{static get TagName(){return"melody-player"}static get LoopMode(){return{Once:0,Single:1,List:2,Shuffle:3,0:"once",1:"single",2:"list",3:"shuffle"}}static get LyricStatus(){return{Loading:0,Loaded:1,Failed:2,None:3,0:"loading",1:"loaded",2:"failed",3:"none"}}static get LogTag(){return"[MelodyPlayer]"}static defineElement(){window.customElements.get(this.TagName)||(window.customElements.define(this.TagName,this),document.head.appendChild(d("style",null,y.a.toString())))}static log(...t){console.log(g.LogTag,...t)}static err(...t){console.error(g.LogTag,...t)}static percent(t){if("number"!=typeof t)throw new Error("percent must be number");return(100*t).toFixed(2)+"%"}static time(t){if("number"!=typeof t)throw new Error("time must be number");const e=new Date(1e3*t),i=e.getUTCMinutes()+60*e.getUTCHours(),s=e.getUTCSeconds();return[i,s>9?s:"0"+s].join(":")}static hide(t,e=!0){t.style.display=e?"none":""}get singleMode(){return this._singleMode}set singleMode(t){t!==this._singleMode&&(window.requestAnimationFrame(()=>{!0===t?this.hostElem.setAttribute("single",""):this.hostElem.removeAttribute("single")}),this._singleMode=t)}get playing(){return this._playing}set playing(t){if(t!==this._playing){this._playing=t;const e=this.btnPlay;window.requestAnimationFrame(()=>{e.textContent=e.dataset[t?"pause":"play"]});try{this.syncProgress()}catch(t){}}}get playIndex(){return this._playIndex}set playIndex(t){if(t!==this._playIndex){this._playIndex=t;const e=this.audios[t];Number.isNaN(e.duration)?e.addEventListener("loadedmetadata",()=>{this.timerTotal.textContent=g.time(e.duration)}):this.timerTotal.textContent=g.time(e.duration),this.syncProgress(),this.fetchLyric().then(t=>t?this.renderLyric():null)}}get lyricStatus(){return this._lyricStatus}set lyricStatus(t){t!==this._lyricStatus&&(this._lyricStatus=t,[this.lyricMaskLoading,this.containerLyric,this.lyricMaskFailed,this.lyricMaskNone].forEach((e,i)=>g.hide(e,t!==i)))}get lyricIndex(){return this._lyricIndex}set lyricIndex(t){t!==this._lyricIndex&&(window.requestAnimationFrame(((t,e)=>{const i=this.lyrics[t];i&&i.classList.remove("active");const s=this.lyrics[e];s&&s.classList.add("active");let n=75-s.clientHeight/2-s.offsetTop-16;this.containerLyric.style.transform=`translateY(${n}px)`}).bind(this,this._lyricIndex,t)),this._lyricIndex=t)}get loopMode(){return this._loopMode}set loopMode(t){if(t!==this._loopMode){this._loopMode=t;const e=this.btnLoop;window.requestAnimationFrame(()=>{e.textContent=e.dataset[g.LoopMode[t]]})}}get displayVisible(){return this._displayVisible}set displayVisible(t){t!==this._displayVisible&&(window.requestAnimationFrame(()=>{!0===t?(this.btnLyric.classList.add("flip"),this.containerDisplay.classList.add("active")):(this.btnLyric.classList.remove("flip"),this.containerDisplay.classList.remove("active"))}),this._displayVisible=t)}get au(){return this.audios[this._playIndex]}registerAudio(t){this.audios.push(t);const e={detail:{audio:t}};t.addEventListener("play",()=>{this.playing=!0,this.handleAudioPlaying(),this.dispatchEvent(new CustomEvent("play",e))}),t.addEventListener("pause",()=>{this.playing=!1,this.dispatchEvent(new CustomEvent("pause",e))}),t.addEventListener("ended",()=>{this.handleAudioEnd(),this.dispatchEvent(new CustomEvent("audioend",e))})}init(){this.playing=!1,this.loopMode=g.LoopMode.Once,this.displayVisible=!1;const{length:t}=this.audios;t>0&&(this.playIndex=0,this.singleMode=1===t)}updateProgress(){const{buffered:t,currentTime:e,duration:i}=this.au,s=e/i;let n=0;0!==t.length&&(n=t.end(t.length-1)/i),window.requestAnimationFrame(()=>{this.timerPlay.textContent=g.time(e),this.progressPlay.style.width=g.percent(s),this.progressLoad.style.width=g.percent(n)})}syncProgress(){[this.progressPlay,this.progressLoad].forEach(t=>{window.requestAnimationFrame(()=>t.classList.add("seek")),setTimeout(()=>{window.requestAnimationFrame(()=>t.classList.remove("seek"))},200)}),this.updateProgress()}fetchLyric(){this.lyricStatus=0;const t=this.audios[this._playIndex],e={lrc:t.dataset.lrc,subLrc:t.dataset.subLrc},i=[];for(const s in e){const n=e[s];if(n){const e=fetch(n).then(t=>{if(t.ok)return t.text();throw t}).then(e=>{try{t[s]=Object.assign({status:1},h.parse(e))}catch(e){g.err("parse lrc",e),t[s]={status:2,lyrics:[]}}}).catch(e=>{g.err("fetch lyric",e),t[s]={status:2,lyrics:[]}});i.push(e)}else t[s]={status:3,lyrics:[]}}return Promise.all(i).then(()=>t===this.au)}renderLyric(){const t=this.audios[this._playIndex];if(3===t.lrc.status&&3===t.subLrc.status)return void(this.lyricStatus=3);if(1!==t.lrc.status&&1!==t.subLrc.status)return void(this.lyricStatus=2);this.lyricStatus=1;const e=(t,e)=>t.timestamp-e.timestamp,i=t.lrc.lyrics.sort(e),s=t.subLrc.lyrics.sort(e),n=[{timestamp:0,content:"\n"}],r=[];let o=0,a=0;for(;o<i.length||a<s.length;){const t=i[o],e=s[a];t&&e&&t.timestamp===e.timestamp?(n.push({timestamp:t.timestamp,content:`${t.content}\n${e.content}`}),o++,a++):!t&&e||t&&e&&t.timestamp>e.timestamp?(n.push({timestamp:e.timestamp,content:e.content}),a++):(!e&&t||t&&e&&e.timestamp>t.timestamp)&&(n.push({timestamp:t.timestamp,content:t.content}),o++)}const l=document.createDocumentFragment();for(const t of n){const e=d("p",{class:"line","data-timestamp":t.timestamp},t.content||"\n");e.timestamp=t.timestamp,l.appendChild(e),r.push(e)}this.lyrics=r,window.requestAnimationFrame(()=>{this.containerLyric.textContent="",this.containerLyric.appendChild(l),this.nextLyricIndex()})}nextLyricIndex(){if(1!==this._lyricStatus)return this.lyricIndex=0;const{currentTime:t}=this.au;let e=this._lyricIndex||0;const i=this.lyrics[this._lyricIndex];if(i){t<(i.timestamp||+i.dataset.timestamp)&&(e=0)}for(let i=e;i<this.lyrics.length;i++){const e=this.lyrics[i];if((e.timestamp||+e.dataset.timestamp)>t)return this.lyricIndex=i?i-1:0}return this.lyricIndex=this.lyrics.length-1}handleAudioPlaying(){const t=this.au.currentTime;t<this._currentSecond&&(this.syncProgress(),this._currentSecond=Math.floor(t)),t-this._currentSecond>1&&(this.updateProgress(),this._currentSecond=Math.floor(t)),1===this._lyricStatus&&this._displayVisible&&this.nextLyricIndex(),this._playing&&setTimeout(()=>this.handleAudioPlaying(),166)}_play(){return this.au.play()}_pause(t=!0){this.au.pause(),0===t&&(this.au.currentTime=0)}handlePlayOrPause(){this._playing?this._pause():this._play()}nextPlayIndex(t=1,e=!1){const i=this.loopMode,s=this.audios.length;let n=this._playIndex;!0===e||0===i||2===i?n=s+n+t:3===i&&(n=Math.floor(Math.random()*s)),this.playIndex=n%s}handleNext(t=1){this._pause(0),this.nextPlayIndex(t,1===this._loopMode),this._play()}handleAudioEnd(){this._pause(0),this.nextLyricIndex(),this.nextPlayIndex(),0===this._loopMode&&0===this._playIndex?(this.playing=!1,this.dispatchEvent(new CustomEvent("playend"))):this._play()}handleLoopMode(){this._singleMode?(1===this._loopMode?this.loopMode=0:this.loopMode=1,this.audios[0].loop=1===this._loopMode):this.loopMode=(this.loopMode+1)%4}handleProgressSeek(t){const e=this.progressFull.getBoundingClientRect(),i=(t.clientX-e.left)/e.width*this.au.duration;this.au.currentTime=i,this.syncProgress(),this._displayVisible&&this.nextLyricIndex(),this._currentSecond=Math.floor(i)}handleToggleDisplay(){this.displayVisible=!this._displayVisible}render(){const t=this.attachShadow({mode:"closed"}),e=d("style",null,m.a.toString());this.hostElem=d("div",{class:"__mld__"},d("div",{ref:t=>this.containerDisplay=t,class:"disp"},d("div",{ref:t=>this.lyricMaskLoading=t,class:"lrc mask"},d("p",{class:"line"},"歌词加载中\nLoading Lyric\n歌詞を読み込む")),d("div",{ref:t=>this.lyricMaskFailed=t,class:"lrc mask"},d("p",{class:"line"},"歌词加载失败\nFailed to Load Lyric\n歌詞を読み込めません")),d("div",{ref:t=>this.lyricMaskNone=t,class:"lrc mask"},d("p",{class:"line"},"暂无歌词\nNo Lyric\n歌詞なし")),d("div",{ref:t=>this.containerLyric=t,class:"lrc"})),d("div",{class:"ctl"},d("div",{class:"ctl-left"},d("button",{ref:t=>this.btnPrev=t,onClick:()=>this.handleNext(-1)},"skip_previous"),d("button",{ref:t=>this.btnPlay=t,onClick:()=>this.handlePlayOrPause(),"data-play":"play_arrow","data-pause":"pause"},"stop"),d("button",{ref:t=>this.btnNext=t,onClick:()=>this.handleNext()},"skip_next")),d("div",{ref:t=>this.progressFull=t,onClick:t=>this.handleProgressSeek(t),class:"porgress"},d("div",{ref:t=>this.progressLoad=t,class:"load"}),d("div",{ref:t=>this.progressPlay=t,class:"play"})),d("div",{class:"timer"},d("span",{ref:t=>this.timerPlay=t},"0:00")," / ",d("span",{ref:t=>this.timerTotal=t},"0:00")),d("div",{class:"ctl-right"},d("button",{ref:t=>this.btnLoop=t,onClick:()=>this.handleLoopMode(),"data-once":"subdirectory_arrow_right","data-single":"repeat_one","data-list":"repeat","data-shuffle":"shuffle"},"cancel"),d("button",{ref:t=>this.btnLyric=t,onClick:()=>this.handleToggleDisplay()},"keyboard_capslock")))),window.requestAnimationFrame(()=>{t.appendChild(e),t.appendChild(this.hostElem),this.setAttribute("rendered","")})}constructor(){super(),this._singleMode=null,this._currentSecond=0,this._playing=null,this.audios=[],this._playIndex=null,this._lyricStatus=null,this.lyrics=null,this._lyricIndex=null,this._loopMode=null,this._displayVisible=null,this.hostElem=null,this.containerDisplay=null,this.lyricMaskLoading=null,this.lyricMaskFailed=null,this.lyricMaskNone=null,this.containerLyric=null,this.progressFull=null,this.progressPlay=null,this.progressLoad=null,this.timerPlay=null,this.timerTotal=null,this.btnPrev=null,this.btnPlay=null,this.btnNext=null,this.btnLoop=null,this.btnLyric=null,Promise.resolve().then(()=>{Array.from(this.children).filter(t=>t instanceof HTMLAudioElement).map(t=>this.registerAudio(t)),this.init();const t={detail:{audios:this.audios}};this.dispatchEvent(new CustomEvent("ready",t))}),this.render()}}u=()=>g.defineElement(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",u):u()}]);
//# sourceMappingURL=player.min.js.map