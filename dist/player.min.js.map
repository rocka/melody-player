{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/lrc-kit/lib/lrc.js","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/lrc-kit/lib/lrc-kit.js","webpack:///./src/player.less","webpack:///./src/font-face.less","webpack:///./node_modules/lrc-kit/lib/line-parser.js","webpack:///./node_modules/lrc-kit/lib/runner.js","webpack:///./node_modules/css-loader/dist/runtime/getUrl.js","webpack:///./font/ic.min.woff2","webpack:///./src/h.js","webpack:///./src/player.jsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","line_parser_1","require","padZero","num","size","toString","split","length","timestampToString","timestamp","Math","floor","toFixed","Lrc","this","info","lyrics","parse","text","map","line","parseLine","forEach","type","LineType","INFO","TIME","timestamps","push","content","lrc","offset","offsetTime","lyric","clone","clonePlainObject","obj","newObj","reduce","ret","opts","combine","lineFormat","sort","lines","lyricsMap","lyricsList","a","b","join","useSourceMap","list","item","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","mediaQuery","alreadyImportedModules","id","_i","__export","___CSS_LOADER_URL___0___","getUrl","parseTags","trim","matches","TAGS_REGEXP","exec","tag","substr","slice","parseTime","tags","TIME_REGEXP","minutes","parseFloat","seconds","replace","parseInfo","INFO_REGEXP","parsedTags","test","INVALID","_e","lrc_1","Runner","_currentIndex","setLrc","lrcUpdate","_offsetAlign","_sort","parseInt","isNaN","timeUpdate","_findIndex","startIndex","curFrontTimestamp","Number","NEGATIVE_INFINITY","curBackTimestamp","POSITIVE_INFINITY","getInfo","getLyrics","getLyric","index","curIndex","Error","curLyric","url","needQuotes","default","h","attr","children","elm","document","createElement","entries","k","v","setAttribute","ev","toLowerCase","addEventListener","child","appendChild","createTextNode","cb","MelodyPlayer","HTMLElement","Once","Single","List","Shuffle","0","1","2","3","Loading","Loaded","Failed","None","window","customElements","TagName","define","head","PLAYER_FONT_FACE","args","console","log","LogTag","error","dt","Date","mm","getUTCMinutes","getUTCHours","ss","getUTCSeconds","hide","style","display","_singleMode","requestAnimationFrame","hostElem","removeAttribute","_playing","btnPlay","textContent","dataset","syncProgress","e","_playIndex","au","audios","duration","timerTotal","time","fetchLyric","then","shouldRender","renderLyric","_lyricStatus","lyricMaskLoading","containerLyric","lyricMaskFailed","lyricMaskNone","_lyricIndex","before","current","bf","classList","remove","cur","add","clientHeight","offsetTop","transform","_loopMode","btnLoop","LoopMode","_displayVisible","btnLyric","containerDisplay","registerAudio","audio","evInit","detail","playing","handleAudioPlaying","dispatchEvent","CustomEvent","handleAudioEnd","init","loopMode","displayVisible","playIndex","singleMode","updateProgress","buffered","currentTime","played","loaded","end","timerPlay","progressPlay","width","percent","progressLoad","setTimeout","lyricStatus","urls","subLrc","tasks","lrcUrl","promise","fetch","ok","assign","status","err","catch","Promise","all","cmp","lyricElms","j","sl","frag","createDocumentFragment","class","data-timestamp","nextLyricIndex","lyricIndex","loopStart","activeLyric","_currentSecond","_play","play","_pause","position","pause","handlePlayOrPause","nextPlayIndex","force","total","random","handleNext","handleLoopMode","loop","handleProgressSeek","rect","progressFull","getBoundingClientRect","seekTime","clientX","left","handleToggleDisplay","render","shadow","attachShadow","PLAYER_STYLE","ref","btnPrev","onClick","data-play","data-pause","btnNext","data-once","data-single","data-list","data-shuffle","constructor","super","resolve","Array","from","filter","HTMLAudioElement","defineElement","readyState"],"mappings":"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","file":"player.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar line_parser_1 = require(\"./line-parser\");\nfunction padZero(num, size) {\n    if (size === void 0) { size = 2; }\n    while (num.toString().split('.')[0].length < size)\n        num = '0' + num;\n    return num;\n}\nexports.padZero = padZero;\n/**\n * get lrc time string\n * @example\n * Lrc.timestampToString(143.54)\n * // return '02:23.54':\n * @param timestamp second timestamp\n */\nfunction timestampToString(timestamp) {\n    return padZero(Math.floor(timestamp / 60)) + \":\" + padZero((timestamp % 60).toFixed(2));\n}\nexports.timestampToString = timestampToString;\nvar Lrc = /** @class */ (function () {\n    function Lrc() {\n        this.info = {};\n        this.lyrics = [];\n    }\n    /**\n     * parse lrc text and return a Lrc object\n     */\n    Lrc.parse = function (text) {\n        var lyrics = [];\n        var info = {};\n        text\n            .split(/\\r\\n|[\\n\\r]/g)\n            .map(function (line) {\n            return line_parser_1.parseLine(line);\n        })\n            .forEach(function (line) {\n            switch (line.type) {\n                case line_parser_1.LineType.INFO:\n                    info[line.key] = line.value;\n                    break;\n                case line_parser_1.LineType.TIME:\n                    line.timestamps.forEach(function (timestamp) {\n                        lyrics.push({\n                            timestamp: timestamp,\n                            content: line.content\n                        });\n                    });\n                    break;\n                default:\n                    break;\n            }\n        });\n        var lrc = new this();\n        lrc.lyrics = lyrics;\n        lrc.info = info;\n        return lrc;\n    };\n    Lrc.prototype.offset = function (offsetTime) {\n        this.lyrics.forEach(function (lyric) {\n            lyric.timestamp += offsetTime;\n            if (lyric.timestamp < 0) {\n                lyric.timestamp = 0;\n            }\n        });\n    };\n    Lrc.prototype.clone = function () {\n        function clonePlainObject(obj) {\n            var newObj = {};\n            for (var key in obj) {\n                newObj[key] = obj[key];\n            }\n            return newObj;\n        }\n        var lrc = new Lrc();\n        lrc.info = clonePlainObject(this.info);\n        lrc.lyrics = this.lyrics.reduce(function (ret, lyric) {\n            ret.push(clonePlainObject(lyric));\n            return ret;\n        }, []);\n        return lrc;\n    };\n    /**\n     * get lrc text\n     * @param opts.combine lyrics combine by same content\n     * @param opts.sort lyrics sort by timestamp\n     * @param opts.lineFormat newline format\n     */\n    Lrc.prototype.toString = function (opts) {\n        if (opts === void 0) { opts = {}; }\n        opts.combine = 'combine' in opts ? opts.combine : true;\n        opts.lineFormat = 'lineFormat' in opts ? opts.lineFormat : '\\r\\n';\n        opts.sort = 'sort' in opts ? opts.sort : true;\n        var lines = [], lyricsMap = {}, lyricsList = [];\n        // generate info\n        for (var key in this.info) {\n            lines.push(\"[\" + key + \":\" + this.info[key] + \"]\");\n        }\n        if (opts.combine) {\n            // uniqueness\n            this.lyrics.forEach(function (lyric) {\n                if (lyric.content in lyricsMap) {\n                    lyricsMap[lyric.content].push(lyric.timestamp);\n                }\n                else {\n                    lyricsMap[lyric.content] = [lyric.timestamp];\n                }\n            });\n            // sorted\n            for (var content in lyricsMap) {\n                if (opts.sort) {\n                    lyricsMap[content].sort();\n                }\n                lyricsList.push({\n                    timestamps: lyricsMap[content],\n                    content: content\n                });\n            }\n            if (opts.sort) {\n                lyricsList.sort(function (a, b) { return a.timestamps[0] - b.timestamps[0]; });\n            }\n            // generate lyrics\n            lyricsList.forEach(function (lyric) {\n                lines.push(\"[\" + lyric.timestamps\n                    .map(function (timestamp) { return timestampToString(timestamp); })\n                    .join('][') + \"]\" + (lyric.content || ''));\n            });\n        }\n        else {\n            this.lyrics.forEach(function (lyric) {\n                lines.push(\"[\" + timestampToString(lyric.timestamp) + \"]\" + (lyric.content || ''));\n            });\n        }\n        return lines.join(opts.lineFormat);\n    };\n    return Lrc;\n}());\nexports.Lrc = Lrc;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./lrc\"));\n__export(require(\"./runner\"));\n","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".__mld__{font:16px sans-serif;margin:8px;padding:8px;color:#abb2bf;background:#282c34;box-shadow:0 2px 10px rgba(0,0,0,.6)}.__mld__ .disp{position:relative;font-size:14px;height:0;overflow:hidden;transition:height .5s;mask-image:linear-gradient(transparent,#000 45px,#000 105px,transparent);-webkit-mask-image:linear-gradient(transparent,#000 45px,#000 105px,transparent)}.__mld__ .disp .lrc{transform:translateY(0);transition:transform .5s cubic-bezier(.25,.46,.45,.94)}.__mld__ .disp .lrc .line{opacity:.6;margin:16px 0;white-space:pre-wrap;text-align:center;transition:color .2s,opacity .2s}.__mld__ .disp .lrc .line.active{color:#fff;opacity:1;text-shadow:0 0 .3px currentColor}.__mld__ .disp .lrc.mask{position:relative;top:calc(50% - 3em)}.__mld__ .disp.active{height:150px}.__mld__ .ctl{display:flex;align-items:center}.__mld__ .ctl button{color:#abb2bf;font:400 20px/1 MelodyPlayerIcons;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;font-feature-settings:'liga' 1;display:inline-block;box-sizing:content-box;width:32px;height:32px;border-radius:16px;border:none;margin:0;padding:0;user-select:none;outline:0;cursor:pointer;background:0 0;transition:.5s;-webkit-tap-highlight-color:transparent}.__mld__ .ctl button:hover{transition:background-color .2s,transform .5s;background:rgba(255,255,255,.15)}.__mld__ .ctl button:active{background:rgba(255,255,255,.4)}.__mld__ .ctl button.flip{transform:rotate(180deg)}.__mld__ .ctl button::-moz-focus-inner{border:0}.__mld__ .ctl .porgress{cursor:pointer;position:relative;margin-left:8px;flex-grow:1;height:12px;color:#61aeee;background:rgba(0,0,0,.6)}.__mld__ .ctl .porgress div{width:0;height:100%;position:absolute;transition:width 1s linear}.__mld__ .ctl .porgress div.seek{transition:width .2s}.__mld__ .ctl .porgress .load{background:rgba(255,255,255,.3)}.__mld__ .ctl .porgress .play{background:currentColor}.__mld__ .ctl .porgress .play::after{content:' ';cursor:pointer;color:#fff;position:absolute;box-sizing:content-box;width:2px;height:100%;right:0;top:0;border:0 solid currentColor;box-shadow:0 0 0 transparent;background:currentColor;transition:.2s}.__mld__ .ctl .porgress:hover .play::after{border-width:6px 3px;box-shadow:0 0 4px rgba(0,0,0,.6);top:-6px;right:-3px}.__mld__ .ctl .timer{font-size:14px;margin-left:8px;user-select:none}.__mld__ .ctl .ctl-right{margin-left:8px}.__mld__[single] .ctl-left button:first-child,.__mld__[single] .ctl-left button:last-child{display:none}\", \"\"]);\n","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nvar getUrl = require(\"../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL___0___ = getUrl(require(\"../font/ic.min.woff2\"));\n// Module\nexports.push([module.id, \"@font-face{font-family:MelodyPlayerIcons;src:url(\" + ___CSS_LOADER_URL___0___ + \") format('woff2')}\", \"\"]);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// match `[12:30.1][12:30.2]`\nexports.TAGS_REGEXP = /^(\\[.+\\])+/;\n// match `[ti: The Title]`\nexports.INFO_REGEXP = /^\\s*(\\w+)\\s*:(.*)$/;\n// match `[512:34.1] lyric content`\nexports.TIME_REGEXP = /^\\s*(\\d+)\\s*:\\s*(\\d+(\\s*[\\.:]\\s*\\d+)?)\\s*$/;\nvar LineType;\n(function (LineType) {\n    LineType[\"INVALID\"] = \"INVALID\";\n    LineType[\"INFO\"] = \"INFO\";\n    LineType[\"TIME\"] = \"TIME\";\n})(LineType = exports.LineType || (exports.LineType = {}));\nfunction parseTags(line) {\n    line = line.trim();\n    var matches = exports.TAGS_REGEXP.exec(line);\n    if (matches === null) {\n        return null;\n    }\n    var tag = matches[0];\n    var content = line.substr(tag.length);\n    return [tag.slice(1, -1).split(/\\]\\s*\\[/), content];\n}\nexports.parseTags = parseTags;\nfunction parseTime(tags, content) {\n    var timestamps = [];\n    tags.forEach(function (tag) {\n        var matches = exports.TIME_REGEXP.exec(tag);\n        var minutes = parseFloat(matches[1]);\n        var seconds = parseFloat(matches[2].replace(/\\s+/g, '').replace(':', '.'));\n        timestamps.push(minutes * 60 + seconds);\n    });\n    return {\n        type: LineType.TIME,\n        timestamps: timestamps,\n        content: content.trim()\n    };\n}\nexports.parseTime = parseTime;\nfunction parseInfo(tag) {\n    var matches = exports.INFO_REGEXP.exec(tag);\n    return {\n        type: LineType.INFO,\n        key: matches[1].trim(),\n        value: matches[2].trim()\n    };\n}\nexports.parseInfo = parseInfo;\n/**\n * line parse lrc of timestamp\n * @example\n * const lp = parseLine('[ti: Song title]')\n * lp.type === LineParser.TYPE.INFO\n * lp.key === 'ti'\n * lp.value === 'Song title'\n *\n * const lp = parseLine('[10:10.10]hello')\n * lp.type === LineParser.TYPE.TIME\n * lp.timestamps === [10*60+10.10]\n * lp.content === 'hello'\n */\nfunction parseLine(line) {\n    var parsedTags = parseTags(line);\n    try {\n        if (parsedTags) {\n            var tags = parsedTags[0], content = parsedTags[1];\n            if (exports.TIME_REGEXP.test(tags[0])) {\n                return parseTime(tags, content);\n            }\n            else {\n                return parseInfo(tags[0]);\n            }\n        }\n        return {\n            type: LineType.INVALID\n        };\n    }\n    catch (_e) {\n        return {\n            type: LineType.INVALID\n        };\n    }\n}\nexports.parseLine = parseLine;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lrc_1 = require(\"./lrc\");\nvar Runner = /** @class */ (function () {\n    function Runner(lrc, offset) {\n        if (lrc === void 0) { lrc = new lrc_1.Lrc(); }\n        if (offset === void 0) { offset = true; }\n        this.offset = offset;\n        this._currentIndex = -1;\n        this.setLrc(lrc);\n    }\n    Runner.prototype.setLrc = function (lrc) {\n        this.lrc = lrc.clone();\n        this.lrcUpdate();\n    };\n    Runner.prototype.lrcUpdate = function () {\n        if (this.offset) {\n            this._offsetAlign();\n        }\n        this._sort();\n    };\n    Runner.prototype._offsetAlign = function () {\n        if ('offset' in this.lrc.info) {\n            var offset = parseInt(this.lrc.info.offset) / 1000;\n            if (!isNaN(offset)) {\n                this.lrc.offset(offset);\n                delete this.lrc.info.offset;\n            }\n        }\n    };\n    Runner.prototype._sort = function () {\n        this.lrc.lyrics.sort(function (a, b) { return a.timestamp - b.timestamp; });\n    };\n    Runner.prototype.timeUpdate = function (timestamp) {\n        if (this._currentIndex >= this.lrc.lyrics.length) {\n            this._currentIndex = this.lrc.lyrics.length - 1;\n        }\n        else if (this._currentIndex < -1) {\n            this._currentIndex = -1;\n        }\n        this._currentIndex = this._findIndex(timestamp, this._currentIndex);\n    };\n    Runner.prototype._findIndex = function (timestamp, startIndex) {\n        var curFrontTimestamp = startIndex == -1 ?\n            Number.NEGATIVE_INFINITY : this.lrc.lyrics[startIndex].timestamp;\n        var curBackTimestamp = (startIndex == this.lrc.lyrics.length - 1) ?\n            Number.POSITIVE_INFINITY : this.lrc.lyrics[startIndex + 1].timestamp;\n        if (timestamp < curFrontTimestamp) {\n            return this._findIndex(timestamp, startIndex - 1);\n        }\n        else if (timestamp === curBackTimestamp) {\n            if (curBackTimestamp === Number.POSITIVE_INFINITY) {\n                return startIndex;\n            }\n            else {\n                return startIndex + 1;\n            }\n        }\n        else if (timestamp > curBackTimestamp) {\n            return this._findIndex(timestamp, startIndex + 1);\n        }\n        else {\n            return startIndex;\n        }\n    };\n    Runner.prototype.getInfo = function () {\n        return this.lrc.info;\n    };\n    Runner.prototype.getLyrics = function () {\n        return this.lrc.lyrics;\n    };\n    Runner.prototype.getLyric = function (index) {\n        if (index === void 0) { index = this.curIndex(); }\n        if (index >= 0 && index <= this.lrc.lyrics.length - 1) {\n            return this.lrc.lyrics[index];\n        }\n        else {\n            throw new Error('Index not exist');\n        }\n    };\n    Runner.prototype.curIndex = function () {\n        return this._currentIndex;\n    };\n    Runner.prototype.curLyric = function () {\n        return this.getLyric();\n    };\n    return Runner;\n}());\nexports.Runner = Runner;\n","\"use strict\";\n\nmodule.exports = function (url, needQuotes) {\n  // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n  url = url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","module.exports = \"data:font/woff2;base64,d09GMgABAAAAAAPQAA8AAAAACigAAAN5AAEEWgAAAAAAAAAAAAAAAAAAAAAAAAAAGhwbEByCVAZgAIIACAQRCAqHCIQFATYCJANOC04ABCAFgnwHIBtUBwieg3GzHE1cIluZKjJ3mmh/34mH5+/Vc1/nxD1AG+u2hRsD1LGpNM1TkZ9qJmD4W2VLe3b3gB6EyPcCPJkQk0hKnQFHLsdmEWROnX2Gkqb3P4Do4IFjygNbg2URDmxiWRZtVYEQUUDj8Wg2sIHtftAD0M0bxf+ah3ess04m6R8gQD+AhCGRSJRkDIFeJheAAL1iZKGic/IwVALIFSCK+/Y4UEGAIAgQVBQegkuJKXcRIYmXLALnwQSSEIHxCmLxEEyMLEo0nYWJQJhAgTzCRJEwIYLIOiBWK/NyzGDEww2I4adficRUY8xhlyULE4KT6ALJhGAegfsuJ4F0Kk2wBBaTzot4V4GhdPYxxniawtp/W7hgcRSaEAqFRZa4i6VqBbPqliAigT5JEIe0G7ATX6Ml3E1IpDYAEMMAADybbv5mgAQQAGBGJmgHbWAB9IJ3HIEFnN9LmAHjPDhh2vlK0XLpcv1y83LrWtjGb78456TwuuXGz3S/2O3YzdjF2IXYv9FmxAEI0PUD7jl7wPm3PcAluAUJKkUNzwRUSjFMQqWOsh4wBZVG+mbADFRa8cxDPQzPAjR//9Jb5I0mQORKgCXAIdgCHyADQDeA6JgMYbiUsUYJvITgmqa4UCEKLoBB2aCfYY/BdJ0bbNwe2kEGTL4zED0ssodoh046VfbZExa7Fvp2MsVAzU3GnqE0X2ad1R4eZj6yatxi5jBZ8B1nDNtpO0Lf69yAcZoJ8Fj7tTPsebdmYO73Nxr7f30ZV1F3DB1130fvgKBSnB0XUrA9p0VUVhsaXp8+/TooQzZNZRgL/ymXGxYOH17A0FMmMjO8esJXvyv9xjGuPAE8zXg9fXOchStgXsDLUvDs6vqHzPIX+zuwAAAEiPaxZ/31q9PuqpZqMADlR9J+gH/l6CJA/EUGujFAQAIkoBAfEACASMAIsD6bV2cw29VH2AgsCccBCQQCBTkAuozhqF0DXABDkCgzCMblIoIbcr9SqAhJhMVnkWX4r9ERR51z3D577HVSnAJ58pWK0+qII/Y4aJcscdodtkOOOPUOOijOwLr4BL1slxN2Oe60XXbK0c1xMrHv4zhY5b/DEYedWJq0xykHOY5rScUno/24PXYdJMxxYJyKwgs5YnKBQtnyZV+iLeN7tCfs0x1x8uXcmLuU33vIPk+LA2b5UAAAAA==\"","// https://codepen.io/caesarsol/pen/dNejPG\n// JSX for document.createElement()\n\nexport default function h(name, attr, ...children) {\n    const elm = document.createElement(name);\n\n    if (attr) {\n        Object.entries(attr).forEach(([k, v]) => {\n            if (k === 'ref') {\n                v(elm);\n                return;\n            }\n            switch (typeof v) {\n                case 'string':\n                    elm.setAttribute(k, v);\n                    break;\n                case 'function':\n                    const ev = k.replace(/^on/, '').toLowerCase(); // eslint-disable-line no-case-declarations\n                    elm.addEventListener(ev, v);\n                    break;\n            }\n        });\n    }\n\n    children.forEach(child => {\n        if (typeof child === 'string') {\n            elm.appendChild(document.createTextNode(child));\n        } else {\n            elm.appendChild(child);\n        }\n    });\n\n    return elm;\n}\n","'use strict';\n\nimport { Lrc } from 'lrc-kit';\n\nimport h from './h.js'; // eslint-disable-line no-unused-vars\nimport PLAYER_STYLE from './player.less';\nimport PLAYER_FONT_FACE from './font-face.less';\n\nclass MelodyPlayer extends HTMLElement {\n    static get TagName() { return 'melody-player'; }\n\n    static get LoopMode() {\n        return {\n            Once: 0,\n            Single: 1,\n            List: 2,\n            Shuffle: 3,\n            0: 'once',\n            1: 'single',\n            2: 'list',\n            3: 'shuffle'\n        };\n    }\n\n    static get LyricStatus() {\n        return {\n            Loading: 0,\n            Loaded: 1,\n            Failed: 2,\n            None: 3,\n            0: 'loading',\n            1: 'loaded',\n            2: 'failed',\n            3: 'none'\n        };\n    }\n\n    static get LogTag() { return '[MelodyPlayer]'; }\n\n    static defineElement() {\n        if (!window.customElements.get(this.TagName)) {\n            window.customElements.define(this.TagName, this);\n            document.head.appendChild(<style>{PLAYER_FONT_FACE.toString()}</style>);\n        }\n    }\n\n    static log(...args) {\n        console.log(MelodyPlayer.LogTag, ...args); // eslint-disable-line no-console\n    }\n\n    static err(...args) {\n        console.error(MelodyPlayer.LogTag, ...args); // eslint-disable-line no-console\n    }\n\n    static percent(num) {\n        if (typeof num !== 'number') {\n            throw new Error('percent must be number');\n        }\n        return `${(num * 100).toFixed(2)}%`;\n    }\n\n    static time(num) {\n        if (typeof num !== 'number') {\n            throw new Error('time must be number');\n        }\n        const dt = new Date(num * 1000);\n        const mm = dt.getUTCMinutes() + dt.getUTCHours() * 60;\n        const ss = dt.getUTCSeconds();\n        return [mm, ss > 9 ? ss : `0${ss}`].join(':');\n    }\n\n    /**\n     * hide HTML element; set style.display to none\n     * @param {HTMLElement} elm\n     * @param {boolean} hide hide or unhide\n     */\n    static hide(elm, hide = true) {\n        elm.style.display = hide ? 'none' : '';\n    }\n\n    get singleMode() { return this._singleMode; }\n    set singleMode(value) {\n        if (value !== this._singleMode) {\n            window.requestAnimationFrame(() => {\n                if (value === true) {\n                    this.hostElem.setAttribute('single', '');\n                } else {\n                    this.hostElem.removeAttribute('single');\n                }\n            });\n            this._singleMode = value;\n        }\n    }\n\n    get playing() { return this._playing; }\n    set playing(value) {\n        if (value !== this._playing) {\n            this._playing = value;\n            const elm = this.btnPlay;\n            window.requestAnimationFrame(() => {\n                elm.textContent = elm.dataset[value ? 'pause' : 'play'];\n            });\n            try { this.syncProgress(); } catch (e) { /* just ignore */ }\n        }\n    }\n\n    get playIndex() { return this._playIndex; }\n    set playIndex(value) {\n        if (value !== this._playIndex) {\n            this._playIndex = value;\n            const au = this.audios[value];\n            if (Number.isNaN(au.duration)) {\n                au.addEventListener('loadedmetadata', () => {\n                    this.timerTotal.textContent = MelodyPlayer.time(au.duration);\n                });\n            } else {\n                this.timerTotal.textContent = MelodyPlayer.time(au.duration);\n            }\n            this.syncProgress();\n            this.fetchLyric().then(shouldRender => shouldRender ? this.renderLyric() : null);\n        }\n    }\n\n    get lyricStatus() { return this._lyricStatus; }\n    set lyricStatus(value) {\n        if (value !== this._lyricStatus) {\n            this._lyricStatus = value;\n            [\n                this.lyricMaskLoading,\n                this.containerLyric,\n                this.lyricMaskFailed,\n                this.lyricMaskNone\n            ].forEach((elm, i) => MelodyPlayer.hide(elm, value !== i));\n        }\n    }\n\n    get lyricIndex() { return this._lyricIndex; }\n    set lyricIndex(value) {\n        if (value !== this._lyricIndex) {\n            window.requestAnimationFrame(((before, current) => {\n                const bf = this.lyrics[before];\n                if (bf) { bf.classList.remove('active'); }\n                const cur = this.lyrics[current];\n                if (cur) { cur.classList.add('active'); }\n                let offset = 150 / 2\n                    - cur.clientHeight / 2\n                    - cur.offsetTop\n                    - 16;\n                this.containerLyric.style.transform = `translateY(${offset}px)`;\n            }).bind(this, this._lyricIndex, value));\n            this._lyricIndex = value;\n        }\n    }\n\n    get loopMode() { return this._loopMode; }\n    set loopMode(value) {\n        if (value !== this._loopMode) {\n            this._loopMode = value;\n            const elm = this.btnLoop;\n            window.requestAnimationFrame(() => {\n                elm.textContent = elm.dataset[MelodyPlayer.LoopMode[value]];\n            });\n        }\n    }\n\n    get displayVisible() { return this._displayVisible; }\n    set displayVisible(value) {\n        if (value !== this._displayVisible) {\n            window.requestAnimationFrame(() => {\n                if (value === true) {\n                    this.btnLyric.classList.add('flip');\n                    this.containerDisplay.classList.add('active');\n                } else {\n                    this.btnLyric.classList.remove('flip');\n                    this.containerDisplay.classList.remove('active');\n                }\n            });\n            this._displayVisible = value;\n        }\n    }\n\n    /**\n     * current playing audio element\n     */\n    get au() { return this.audios[this._playIndex]; }\n\n    /**\n     * add audio to `this.audios` and add event listeners\n     * @param {HTMLAudioElement} audio\n     */\n    registerAudio(audio) {\n        this.audios.push(audio);\n        const evInit = { detail: { audio } };\n        audio.addEventListener('play', () => {\n            this.playing = true;\n            this.handleAudioPlaying();\n            this.dispatchEvent(new CustomEvent('play', evInit));\n        });\n        audio.addEventListener('pause', () => {\n            this.playing = false;\n            this.dispatchEvent(new CustomEvent('pause', evInit));\n        });\n        audio.addEventListener('ended', () => {\n            this.handleAudioEnd();\n            this.dispatchEvent(new CustomEvent('audioend', evInit));\n        });\n    }\n\n    init() {\n        this.playing = false;\n        this.loopMode = MelodyPlayer.LoopMode.Once;\n        this.displayVisible = false;\n        const { length } = this.audios;\n        if (length > 0) {\n            this.playIndex = 0;\n            this.singleMode = length === 1;\n        }\n    }\n\n    updateProgress() {\n        const { buffered, currentTime, duration } = this.au;\n        const played = currentTime / duration;\n        let loaded = 0;\n        if (buffered.length !== 0) {\n            loaded = buffered.end(buffered.length - 1) / duration;\n        }\n        window.requestAnimationFrame(() => {\n            this.timerPlay.textContent = MelodyPlayer.time(currentTime);\n            this.progressPlay.style.width = MelodyPlayer.percent(played);\n            this.progressLoad.style.width = MelodyPlayer.percent(loaded);\n        });\n    }\n\n    syncProgress() {\n        [this.progressPlay, this.progressLoad].forEach(/** @type {HTMLDivElement} */ elm => {\n            window.requestAnimationFrame(() => elm.classList.add('seek'));\n            setTimeout(() => {\n                window.requestAnimationFrame(() => elm.classList.remove('seek'));\n            }, 200);\n        });\n        this.updateProgress();\n    }\n\n    /**\n     * fetch lrc and attach them to audio element props\n     * @returns {Promise<Boolean>}\n     */\n    fetchLyric() {\n        this.lyricStatus = 0; // Loading\n        const au = this.audios[this._playIndex];\n        const urls = {\n            lrc: au.dataset['lrc'],\n            subLrc: au.dataset['subLrc']\n        };\n        // TODO: cache lyric; retry when cache invalid\n        // maybe the browser would do it?\n        /** @type {Promise<void>[]} */\n        const tasks = [];\n        for (const type in urls) {\n            const lrcUrl = urls[type];\n            if (lrcUrl) {\n                const promise = fetch(lrcUrl).then(r => {\n                    if (r.ok) {\n                        return r.text();\n                    }\n                    throw r;\n                }).then(t => {\n                    try {\n                        au[type] = Object.assign({ status: 1 }, Lrc.parse(t));\n                    } catch (e) {\n                        MelodyPlayer.err('parse lrc', e);\n                        au[type] = { status: 2, lyrics: [] }; // Failed\n                    }\n                }).catch(e => {\n                    MelodyPlayer.err('fetch lyric', e);\n                    au[type] = { status: 2, lyrics: [] }; // Failed\n                });\n                tasks.push(promise);\n            } else {\n                au[type] = { status: 3, lyrics: [] }; // None\n            }\n        }\n        // if playIndex changed when fetching lyric, then shouldn't be rendered\n        return Promise.all(tasks).then(() => au === this.au);\n    }\n\n    /**\n     * render to lrc element\n     */\n    renderLyric() {\n        const au = this.audios[this._playIndex];\n        if (au.lrc.status === 3 && au.subLrc.status === 3) { // None\n            this.lyricStatus = 3;\n            return;\n        }\n        if (au.lrc.status !== 1 && au.subLrc.status !== 1) { // Failed\n            this.lyricStatus = 2;\n            return;\n        }\n        this.lyricStatus = 1; // Loaded\n        const cmp = (a, b) => a.timestamp - b.timestamp;\n        /** @type {Array.<{timestamp:number;content:string}>} */\n        const lrc = au.lrc.lyrics.sort(cmp);\n        /** @type {Array.<{timestamp:number;content:string}>} */\n        const subLrc = au.subLrc.lyrics.sort(cmp);\n        /** @type {Array.<{timestamp:number;content:string}>} */\n        const lyrics = [{ timestamp: 0, content: '\\n' }], lyricElms = [];\n        let i = 0, j = 0;\n        while (i < lrc.length || j < subLrc.length) {\n            const l = lrc[i], sl = subLrc[j];\n            if (l && sl && l.timestamp === sl.timestamp) {\n                lyrics.push({ timestamp: l.timestamp, content: `${l.content}\\n${sl.content}` });\n                i++ , j++;\n            } else if (!l && sl || l && sl && l.timestamp > sl.timestamp) {\n                lyrics.push({ timestamp: sl.timestamp, content: sl.content });\n                j++;\n            } else if (!sl && l || l && sl && sl.timestamp > l.timestamp) {\n                lyrics.push({ timestamp: l.timestamp, content: l.content });\n                i++;\n            }\n        }\n        const frag = document.createDocumentFragment();\n        for (const line of lyrics) {\n            const elm = <p class='line' data-timestamp={line.timestamp}>{line.content || '\\n'}</p>;\n            elm.timestamp = line.timestamp;\n            frag.appendChild(elm);\n            lyricElms.push(elm);\n        }\n        this.lyrics = lyricElms;\n        window.requestAnimationFrame(() => {\n            this.containerLyric.textContent = '';\n            this.containerLyric.appendChild(frag);\n            this.nextLyricIndex();\n        });\n    }\n\n    nextLyricIndex() {\n        if (this._lyricStatus !== 1) { // Not Loaded\n            return this.lyricIndex = 0;\n        }\n        const { currentTime } = this.au;\n        let loopStart = this._lyricIndex || 0;\n        // decide where to start loop\n        const activeLyric = this.lyrics[this._lyricIndex];\n        if (activeLyric) {\n            const activeTime = activeLyric.timestamp || +activeLyric.dataset['timestamp'];\n            if (currentTime < activeTime) {\n                // audio seek back, loop lyric from 0\n                loopStart = 0;\n            }\n        }\n        for (let i = loopStart; i < this.lyrics.length; i++) {\n            const elm = this.lyrics[i];\n            const time = elm.timestamp || +elm.dataset['timestamp'];\n            if (time > currentTime) {\n                return this.lyricIndex = !i ? 0 : i - 1;\n            }\n        }\n        return this.lyricIndex = this.lyrics.length - 1;\n    }\n\n    handleAudioPlaying() {\n        const time = this.au.currentTime;\n        // audio loop when `this._singleMode` true\n        if (time < this._currentSecond) {\n            this.syncProgress();\n            this._currentSecond = Math.floor(time);\n        }\n        if (time - this._currentSecond > 1) {\n            this.updateProgress();\n            this._currentSecond = Math.floor(time);\n        }\n        if (this._lyricStatus === 1 && this._displayVisible) { // Loaded\n            this.nextLyricIndex();\n        }\n        if (this._playing) {\n            setTimeout(() => this.handleAudioPlaying(), 166);\n        }\n    }\n\n    _play() {\n        return this.au.play();\n    }\n\n    /**\n     * @param {number} position time to seek after pause\n     */\n    _pause(position = true) {\n        this.au.pause();\n        if (position === 0) {\n            this.au.currentTime = 0;\n        }\n    }\n\n    handlePlayOrPause() {\n        if (this._playing) {\n            this._pause();\n        } else {\n            this._play();\n        }\n    }\n\n    /**\n     * @param {number} offset next offset\n     * @param {boolean} force force switch to next track\n     */\n    nextPlayIndex(offset = 1, force = false) {\n        const mode = this.loopMode;\n        const total = this.audios.length;\n        let i = this._playIndex;\n        if (force === true || mode === 0 || mode === 2) { // Once || List\n            i = (total + i + offset);\n        } else if (mode === 3) { // Shuffle\n            i = Math.floor(Math.random() * total);\n        }\n        this.playIndex = i % total;\n    }\n\n    /**\n     * @param {number} offset next offset\n     */\n    handleNext(offset = 1) {\n        this._pause(0);\n        this.nextPlayIndex(offset, this._loopMode === 1);\n        this._play();\n    }\n\n    handleAudioEnd() {\n        this._pause(0);\n        this.nextLyricIndex();\n        this.nextPlayIndex();\n        if (this._loopMode === 0 && this._playIndex === 0) {\n            this.playing = false;\n            this.dispatchEvent(new CustomEvent('playend'));\n        } else {\n            this._play();\n        }\n    }\n\n    handleLoopMode() {\n        if (this._singleMode) {\n            if (this._loopMode === 1) {\n                this.loopMode = 0;\n            } else {\n                this.loopMode = 1;\n            }\n            this.audios[0].loop = this._loopMode === 1;\n        } else {\n            this.loopMode = (this.loopMode + 1) % 4;\n        }\n    }\n\n    /**\n     * handle click on progress bar\n     * @param {MouseEvent} ev MouseEvent from click listener\n     */\n    handleProgressSeek(ev) {\n        const rect = this.progressFull.getBoundingClientRect();\n        const seekTime = (ev.clientX - rect.left) / rect.width * this.au.duration;\n        this.au.currentTime = seekTime;\n        this.syncProgress();\n        if (this._displayVisible) {\n            this.nextLyricIndex();\n        }\n        this._currentSecond = Math.floor(seekTime);\n    }\n\n    handleToggleDisplay() {\n        this.displayVisible = !this._displayVisible;\n    }\n\n    render() {\n        const shadow = this.attachShadow({ mode: process.env.NODE_ENV === 'development' ? 'open' : 'closed' });\n        const style = <style>{PLAYER_STYLE.toString()}</style>;\n        this.hostElem = (\n            <div class=\"__mld__\">\n                <div ref={r => this.containerDisplay = r} class=\"disp\">\n                    <div ref={r => this.lyricMaskLoading = r} class=\"lrc mask\"><p class=\"line\">{'\\nLoading Lyric\\n'}</p></div>\n                    <div ref={r => this.lyricMaskFailed = r} class=\"lrc mask\"><p class=\"line\">{'\\nFailed to Load Lyric\\n'}</p></div>\n                    <div ref={r => this.lyricMaskNone = r} class=\"lrc mask\"><p class=\"line\">{'\\nNo Lyric\\n'}</p></div>\n                    <div ref={r => this.containerLyric = r} class=\"lrc\"></div>\n                </div>\n                <div class=\"ctl\">\n                    <div class=\"ctl-left\">\n                        <button ref={r => this.btnPrev = r} onClick={() => this.handleNext(-1)}>skip_previous</button>\n                        <button ref={r => this.btnPlay = r} onClick={() => this.handlePlayOrPause()} data-play=\"play_arrow\" data-pause=\"pause\">stop</button>\n                        <button ref={r => this.btnNext = r} onClick={() => this.handleNext()}>skip_next</button>\n                    </div>\n                    <div ref={r => this.progressFull = r} onClick={ev => this.handleProgressSeek(ev)} class=\"porgress\">\n                        <div ref={r => this.progressLoad = r} class=\"load\"></div>\n                        <div ref={r => this.progressPlay = r} class=\"play\"></div>\n                    </div>\n                    <div class=\"timer\"><span ref={r => this.timerPlay = r}>0:00</span> / <span ref={r => this.timerTotal = r}>0:00</span></div>\n                    <div class=\"ctl-right\">\n                        <button ref={r => this.btnLoop = r} onClick={() => this.handleLoopMode()} data-once=\"subdirectory_arrow_right\" data-single=\"repeat_one\" data-list=\"repeat\" data-shuffle=\"shuffle\">cancel</button>\n                        <button ref={r => this.btnLyric = r} onClick={() => this.handleToggleDisplay()}>keyboard_capslock</button>\n                    </div>\n                </div>\n            </div>\n        );\n        window.requestAnimationFrame(() => {\n            shadow.appendChild(style);\n            shadow.appendChild(this.hostElem);\n            this.setAttribute('rendered', '');\n        });\n    }\n\n    constructor() {\n        super();\n        /** @type {boolean} */\n        this._singleMode = null;\n        this._currentSecond = 0;\n        /** @type {boolean} */\n        this._playing = null;\n        /** @type {HTMLAudioElement[]} */\n        this.audios = [];\n        /** @type {number} */\n        this._playIndex = null;\n        /** @type {number} */\n        this._lyricStatus = null;\n        /** @type {HTMLParagraphElement[]} */\n        this.lyrics = null;\n        /** @type {number} */\n        this._lyricIndex = null;\n        /** @type {number} */\n        this._loopMode = null;\n        /** @type {boolean} */\n        this._displayVisible = null;\n        /** @type {HTMLElement} */\n        this.hostElem = null;\n        /** @type {HTMLDivElement} */\n        this.containerDisplay = null;\n        /** @type {HTMLDivElement} */\n        this.lyricMaskLoading = null;\n        /** @type {HTMLDivElement} */\n        this.lyricMaskFailed = null;\n        /** @type {HTMLDivElement} */\n        this.lyricMaskNone = null;\n        /** @type {HTMLDivElement} */\n        this.containerLyric = null;\n        /** @type {HTMLDivElement} */\n        this.progressFull = null;\n        /** @type {HTMLDivElement} */\n        this.progressPlay = null;\n        /** @type {HTMLDivElement} */\n        this.progressLoad = null;\n        /** @type {HTMLSpanElement} */\n        this.timerPlay = null;\n        /** @type {HTMLSpanElement} */\n        this.timerTotal = null;\n        /** @type {HTMLButtonElement} */\n        this.btnPrev = null;\n        /** @type {HTMLButtonElement} */\n        this.btnPlay = null;\n        /** @type {HTMLButtonElement} */\n        this.btnNext = null;\n        /** @type {HTMLButtonElement} */\n        this.btnLoop = null;\n        /** @type {HTMLButtonElement} */\n        this.btnLyric = null;\n        Promise.resolve().then(() => {\n            Array.from(this.children)\n                .filter(elm => elm instanceof HTMLAudioElement)\n                .map(elm => this.registerAudio(elm));\n            this.init();\n            const evInit = { detail: { audios: this.audios } };\n            this.dispatchEvent(new CustomEvent('ready', evInit));\n        });\n        this.render();\n    }\n}\n\n(cb => {\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', cb);\n    } else {\n        cb();\n    }\n})(() => MelodyPlayer.defineElement());\n"],"sourceRoot":""}